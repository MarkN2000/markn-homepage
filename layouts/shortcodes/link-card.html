{{/* layouts/shortcodes/link-card.html */}}
{{- $href := .Get "href" | default "#" -}}
{{- $title := .Get "title" | default "（タイトルなし）" -}}
{{- $description := .Get "description" | default "" -}}
{{- $image := .Get "image" -}}
{{- $site := .Get "site" | default "" -}}

<a href="{{ $href }}" target="_blank" rel="noopener noreferrer"
    class="my-6 group block bg-white border border-gray-200 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50 transition-shadow duration-200 overflow-hidden">
    <div class="flex flex-col {{ if $image }}sm:flex-row-reverse{{ end }}"> {{/* 画像がある場合は sm以上でrow-reverse */}}
        
        {{/* テキストコンテンツエリア */}}
        <div class="p-4 sm:p-5 flex flex-col justify-between flex-grow {{ if $image }}sm:w-2/3 md:w-3/5{{ else }}w-full{{ end }}">
            <div>
                <h3 class="text-base sm:text-lg font-semibold text-gray-900 group-hover:text-primary mb-1 transition-colors duration-150">{{ $title }}</h3>
                {{ if $description }}
                <p class="text-xs sm:text-sm text-gray-700 mb-2 line-clamp-3">{{ $description }}</p>
                {{ end }}
            </div>
            {{ if $site }}
            <p class="text-xs text-gray-500 mt-auto pt-2">{{ $site }}</p>
            {{ end }}
        </div>

        {{/* 画像エリア (画像が指定されている場合) */}}
        {{ if $image }}
        <div class="flex-shrink-0 sm:w-1/3 md:w-2/5 h-40 sm:h-auto bg-gray-100"> {{/* スマホでは高さ固定、sm以上で自動高さ */}}
            <img src="{{ $image }}" alt="{{ $title }} サムネイル" 
                class="w-full h-full object-cover">
        </div>
        {{ end }}
    </div>
</a>